(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){e.exports=a(449)},177:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},413:function(e,t,a){},415:function(e,t,a){},418:function(e,t,a){},420:function(e,t,a){},422:function(e,t,a){},440:function(e,t,a){},442:function(e,t,a){},444:function(e,t,a){},446:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(61),o=a.n(s),i=(a(177),a(8)),c=a.n(i),l=a(14),u=a(20),m=a(21),h=a(23),d=a(22),p=a(24),f=a(96),g=a(167),E=a(460),b=a(457),v=a(458),C=(a(181),a(166)),k=a(97),y=a(380),w=a(451),S=a(452),x=(a(183),a(12)),O=a.n(x),j=a(40),A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isLoading:!0,notes:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.notes();case 5:t=e.sent,this.setState({notes:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:this.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"notes",value:function(){return x.API.get("notes","/notes")}},{key:"renderNotesList",value:function(e){return[{}].concat(e).map(function(e,t){return 0!==t?r.a.createElement(j.LinkContainer,{key:e.noteId,to:"/notes/".concat(e.noteId)},r.a.createElement(y.a,{header:e.content.trim().split("\n")[0]},"Created: "+new Date(e.createdAt).toLocaleString())):r.a.createElement(j.LinkContainer,{key:"new",to:"/notes/new"},r.a.createElement(y.a,null,r.a.createElement("h4",null,r.a.createElement("b",null,"\uff0b")," Create a new note")))})}},{key:"renderLander",value:function(){return r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Scratch"),r.a.createElement("p",null,"A simple note taking app"))}},{key:"renderNotes",value:function(){return r.a.createElement("div",{className:"notes"},r.a.createElement(w.a,null,"Your Notes"),r.a.createElement(S.a,null,!this.state.isLoading&&this.renderNotesList(this.state.notes)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},this.props.isAuthenticated?this.renderNotes():this.renderLander())}}]),t}(n.Component),I=(a(413),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"404 page not found!"),r.a.createElement("h4",null,"Please try another page"))}),L=a(17),N=a(453),P=a(454),T=a(461),F=a(455),D=(a(415),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,"ss9g18@soton.ac.uk"!=a.state.email&&"supatsarasd@gmail.com"!=a.state.email){e.next=9;break}return e.next=5,x.Auth.signIn(a.state.email,a.state.password);case 5:a.props.userHasAuthenticated(!0),a.props.history.push("/Home"),e.next=11;break;case 9:return e.next=11,x.Auth.signIn(a.state.email,a.state.password);case 11:a.props.userHasAuthenticated(!0),a.props.history.push("/List"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert(e.t0.message);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("div",null,r.a.createElement("h2",null," User site")),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(N.a,{controlId:"email",bsSize:"large"},r.a.createElement(P.a,null,"Email"),r.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(N.a,{controlId:"password",bsSize:"large"},r.a.createElement(P.a,null,"Password"),r.a.createElement(T.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(f.a,{to:"/login/reset"},"Forgot password?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(F.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"Login"),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null," * If you have the problems or do not have the account yet, please contact the administartor"))))}}]),t}(n.Component)),M=(a(418),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,"ss9g18@soton.ac.uk"!=a.state.email){e.next=9;break}return e.next=5,x.Auth.signIn(a.state.email,a.state.password);case 5:a.props.userHasAuthenticated(!0),a.props.history.push("/signup"),e.next=10;break;case 9:alert("You do not right to access this site");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0.message);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Admin"},r.a.createElement("div",null,r.a.createElement("h2",null," Admin site")),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(N.a,{controlId:"email",bsSize:"large"},r.a.createElement(P.a,null,"Email"),r.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(N.a,{controlId:"password",bsSize:"large"},r.a.createElement(P.a,null,"Password"),r.a.createElement(T.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement("br",null),r.a.createElement(F.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"Login")))}}]),t}(n.Component)),_=a(42),z=function(e){var t=e.component,a=e.props,n=Object(_.a)(e,["component","props"]);return r.a.createElement(k.a,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},H=a(456),R=a(459),U=a(417),B=(a(420),function(e){var t=e.isLoading,a=e.text,n=e.loadingText,s=e.className,o=void 0===s?"":s,i=e.disabled,c=void 0!==i&&i,l=Object(_.a)(e,["isLoading","text","loadingText","className","disabled"]);return r.a.createElement(F.a,Object.assign({className:"LoaderButton ".concat(o),disabled:c||t},l),t&&r.a.createElement(U.a,{glyph:"refresh",className:"spinning"}),t?n:a)}),Y=(a(422),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,x.Auth.signUp({username:a.state.email,password:a.state.password});case 5:n=e.sent,a.setState({newUser:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:a.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,x.Auth.confirmSignUp(a.state.email,a.state.confirmationCode);case 5:return e.next=7,x.Auth.signIn(a.state.email,a.state.password);case 7:a.props.userHasAuthenticated(!0),a.props.history.push("/admin/create"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),alert(e.t0.message),a.setState({isLoading:!1});case 15:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:"",confirmPassword:"",confirmationCode:"",newUser:null,user:[],notes:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.notes();case 5:t=e.sent,this.setState({notes:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:this.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"notes",value:function(){return x.API.get("notes","/notes")}},{key:"renderNotesList",value:function(e){return[{}].concat(e).map(function(e,t){return 0!==t?r.a.createElement(j.LinkContainer,{key:e.noteId,to:"/notes/".concat(e.noteId)},r.a.createElement(y.a,{header:e.content.trim().split("\n")[0]},"Created: "+new Date(e.createdAt).toLocaleString())):r.a.createElement(j.LinkContainer,{key:"new",to:"/notes/new"},r.a.createElement(y.a,null,r.a.createElement("h4",null,r.a.createElement("b",null,"\uff0b")," Create a new note")))})}},{key:"renderLander",value:function(){return r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Scratch"),r.a.createElement("p",null,"A simple note taking app"))}},{key:"renderNotes",value:function(){return r.a.createElement("div",{className:"notes"},r.a.createElement(w.a,null,"All Projects"),r.a.createElement(S.a,null,!this.state.isLoading&&this.renderNotesList(this.state.notes)))}},{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"validateConfirmationForm",value:function(){return this.state.confirmationCode.length>0}},{key:"renderConfirmationForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleConfirmationSubmit},r.a.createElement(N.a,{controlId:"confirmationCode",bsSize:"large"},r.a.createElement(P.a,null,"Confirmation Code"),r.a.createElement(T.a,{autoFocus:!0,type:"tel",value:this.state.confirmationCode,onChange:this.handleChange}),r.a.createElement(H.a,null,"Please check your email for the code.")),r.a.createElement(B,{block:!0,bsSize:"large",disabled:!this.validateConfirmationForm(),type:"submit",isLoading:this.state.isLoading,text:"Verify",loadingText:"Verifying\u2026"}))}},{key:"renderForm",value:function(){return r.a.createElement("div",null,r.a.createElement(R.a,null,r.a.createElement(R.a.Heading,null," Projects"),r.a.createElement(R.a.Body,null,r.a.createElement("div",{className:"Home"},this.props.isAuthenticated?this.renderNotes():this.renderLander()))),r.a.createElement(R.a,null,r.a.createElement(R.a.Heading,null," Create account"),r.a.createElement(R.a.Body,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(N.a,{controlId:"email",bsSize:"large"},r.a.createElement(P.a,null,"Email"),r.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(N.a,{controlId:"password",bsSize:"large"},r.a.createElement(P.a,null,"Password"),r.a.createElement(T.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(N.a,{controlId:"confirmPassword",bsSize:"large"},r.a.createElement(P.a,null,"Confirm Password"),r.a.createElement(T.a,{value:this.state.confirmPassword,onChange:this.handleChange,type:"password"})),r.a.createElement(B,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Signup",loadingText:"Signing up\u2026"})))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Signup"},null===this.state.newUser?this.renderForm():this.renderConfirmationForm())}}]),t}(n.Component)),G={MAX_ATTACHMENT_SIZE:5e6,s3:{REGION:"eu-west-2",BUCKET:"project-manage-app"},apiGateway:{REGION:"eu-west-2",URL:"https://msytnt0x20.execute-api.eu-west-2.amazonaws.com/prod"},cognito:{REGION:"eu-west-2",USER_POOL_ID:"eu-west-2_qToYjOGIt",APP_CLIENT_ID:"42ad3laupiais69tmmlc0j1e3m",IDENTITY_POOL_ID:"eu-west-2:81f4928b-c544-4802-9fd7-db9932006667"}};a(440);function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Date.now(),"-").concat(t.name),e.next=3,x.Storage.vault.put(a,t,{contentType:t.type});case 3:return n=e.sent,e.abrupt("return",n.key);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleFileChange=function(e){a.file=e.target.files[0]},a.handleSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.file&&a.file.size>G.MAX_ATTACHMENT_SIZE)){e.next=4;break}return alert("Please pick a file smaller than ".concat(G.MAX_ATTACHMENT_SIZE/1e6," MB.")),e.abrupt("return");case 4:if(a.setState({isLoading:!0}),e.prev=5,!a.file){e.next=12;break}return e.next=9,X(a.file);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:return r=e.t0,e.next=16,a.createNote((n={attachment:r,content:a.state.content6},Object(L.a)(n,"content",a.state.content1),Object(L.a)(n,"content",a.state.content2),Object(L.a)(n,"content",a.state.content3),Object(L.a)(n,"content",a.state.content4),Object(L.a)(n,"content",a.state.content5),n));case 16:a.props.history.push("/"),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(5),alert(e.t1),a.setState({isLoading:!1});case 23:case"end":return e.stop()}},e,this,[[5,19]])}));return function(t){return e.apply(this,arguments)}}(),a.file=null,a.state={isLoading:null,content:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.content.length>0}},{key:"createNote",value:function(e){return x.API.post("notes","/notes",{body:e})}},{key:"handleNumber",value:function(){var e=10+89*Math.random();this.setState({random:this.state.random+e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"NewNote"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h2",null," Create New Project "),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"Project name"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content6,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"Project Manager"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content1,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"Project Id"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content2,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"Start Date(DD/MM/YY)"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content3,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"End Date(DD/MM/YY)"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content4,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"Note"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content5,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content"},r.a.createElement("h4",null,"Responsed Developer"),r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content5,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"file"},r.a.createElement(P.a,null,"Attachment"),r.a.createElement(T.a,{onChange:this.handleFileChange,type:"file"})),r.a.createElement(B,{block:!0,bsStyle:"primary",bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Create",loadingText:"Creating\u2026"})))}}]),t}(n.Component),W=(a(442),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleFileChange=function(e){a.file=e.target.files[0]},a.handleSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.file&&a.file.size>G.MAX_ATTACHMENT_SIZE)){e.next=4;break}return alert("Please pick a file smaller than ".concat(G.MAX_ATTACHMENT_SIZE/1e6," MB.")),e.abrupt("return");case 4:if(a.setState({isLoading:!0}),e.prev=5,!a.file){e.next=10;break}return e.next=9,X(a.file);case 9:n=e.sent;case 10:return e.next=12,a.saveNote({content:a.state.content,attachment:n||a.state.note.attachment});case 12:a.props.history.push("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),alert(e.t0),a.setState({isLoading:!1});case 19:case"end":return e.stop()}},e,this,[[5,15]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are you sure you want to delete this note?")){e.next=4;break}return e.abrupt("return");case 4:return a.setState({isDeleting:!0}),e.prev=5,e.next=8,a.deleteNote();case 8:a.props.history.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),alert(e.t0),a.setState({isDeleting:!1});case 15:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}(),a.file=null,a.state={isLoading:null,isDeleting:null,note:null,content:"",attachmentURL:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNote();case 3:if(a=e.sent,n=a.content,!(r=a.attachment)){e.next=9;break}return e.next=8,x.Storage.vault.get(r);case 8:t=e.sent;case 9:this.setState({note:a,content:n,attachmentURL:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"getNote",value:function(){return x.API.get("notes","/notes/".concat(this.props.match.params.id))}},{key:"validateForm",value:function(){return this.state.content.length>0}},{key:"formatFilename",value:function(e){return e.replace(/^\w+-/,"")}},{key:"saveNote",value:function(e){return x.API.put("notes","/notes/".concat(this.props.match.params.id),{body:e})}},{key:"deleteNote",value:function(){return x.API.del("notes","/notes/".concat(this.props.match.params.id))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Notes"},this.state.note&&r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(N.a,{controlId:"content"},r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content,componentClass:"textarea"})),this.state.note.attachment&&r.a.createElement(N.a,null,r.a.createElement(P.a,null,"Attachment"),r.a.createElement(T.a.Static,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.attachmentURL},this.formatFilename(this.state.note.attachment)))),r.a.createElement(N.a,{controlId:"file"},!this.state.note.attachment&&r.a.createElement(P.a,null,"Attachment"),r.a.createElement(T.a,{onChange:this.handleFileChange,type:"file"})),r.a.createElement(B,{block:!0,bsStyle:"primary",bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Save",loadingText:"Saving\u2026"}),r.a.createElement(B,{block:!0,bsStyle:"danger",bsSize:"large",isLoading:this.state.isDeleting,onClick:this.handleDelete,text:"Delete",loadingText:"Deleting\u2026"})))}}]),t}(n.Component)),$=a(165),J=function(e){var t=e.component,a=e.props,n=Object(_.a)(e,["component","props"]);return r.a.createElement(k.a,Object.assign({},n,{render:function(e){return a.isAuthenticated?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement($.a,{to:"/login?redirect=".concat(e.location.pathname).concat(e.location.search)})}}))};var K=function(e){var t=e.component,a=e.props,n=Object(_.a)(e,["component","props"]),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("redirect");return r.a.createElement(k.a,Object.assign({},n,{render:function(e){return a.isAuthenticated?r.a.createElement($.a,{to:""===s||null===s?"/":s}):r.a.createElement(t,Object.assign({},e,a))}}))},V=(a(444),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSendCodeClick=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isSendingCode:!0}),e.prev=2,e.next=5,x.Auth.forgotPassword(a.state.email);case 5:a.setState({codeSent:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.message),a.setState({isSendingCode:!1});case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmClick=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isConfirming:!0}),e.prev=2,e.next=5,x.Auth.forgotPasswordSubmit(a.state.email,a.state.code,a.state.password);case 5:a.setState({confirmed:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.message),a.setState({isConfirming:!1});case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.state={code:"",email:"",password:"",codeSent:!1,confirmed:!1,confirmPassword:"",isConfirming:!1,isSendingCode:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"validateCodeForm",value:function(){return this.state.email.length>0}},{key:"validateResetForm",value:function(){return this.state.code.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"renderRequestCodeForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleSendCodeClick},r.a.createElement(N.a,{bsSize:"large",controlId:"email"},r.a.createElement(P.a,null,"Email"),r.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(B,{block:!0,type:"submit",bsSize:"large",loadingText:"Sending\u2026",text:"Send Confirmation",isLoading:this.state.isSendingCode,disabled:!this.validateCodeForm()}))}},{key:"renderConfirmationForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleConfirmClick},r.a.createElement(N.a,{bsSize:"large",controlId:"code"},r.a.createElement(P.a,null,"Confirmation Code"),r.a.createElement(T.a,{autoFocus:!0,type:"tel",value:this.state.code,onChange:this.handleChange}),r.a.createElement(H.a,null,"Please check your email (",this.state.email,") for the confirmation code.")),r.a.createElement("hr",null),r.a.createElement(N.a,{bsSize:"large",controlId:"password"},r.a.createElement(P.a,null,"New Password"),r.a.createElement(T.a,{type:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(N.a,{bsSize:"large",controlId:"confirmPassword"},r.a.createElement(P.a,null,"Confirm Password"),r.a.createElement(T.a,{type:"password",onChange:this.handleChange,value:this.state.confirmPassword})),r.a.createElement(B,{block:!0,type:"submit",bsSize:"large",text:"Confirm",loadingText:"Confirm\u2026",isLoading:this.state.isConfirming,disabled:!this.validateResetForm()}))}},{key:"renderSuccessMessage",value:function(){return r.a.createElement("div",{className:"success"},r.a.createElement(U.a,{glyph:"ok"}),r.a.createElement("p",null,"Your password has been reset."),r.a.createElement("p",null,r.a.createElement(f.a,{to:"/login"},"Click here to login with your new credentials.")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ResetPassword"},this.state.codeSent?this.state.confirmed?this.renderSuccessMessage():this.renderConfirmationForm():this.renderRequestCodeForm())}}]),t}(n.Component)),Q=(a(446),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleFileChange=function(e){a.file=e.target.files[0]},a.handleSubmit=function(){var e=Object(l.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.file&&a.file.size>G.MAX_ATTACHMENT_SIZE)){e.next=4;break}return alert("Please pick a file smaller than ".concat(G.MAX_ATTACHMENT_SIZE/1e6," MB.")),e.abrupt("return");case 4:if(a.setState({isLoading:!0}),e.prev=5,!a.file){e.next=12;break}return e.next=9,X(a.file);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:return n=e.t0,e.next=16,a.createNote(Object(L.a)({attachment:n,content:a.state.content},"content",a.state.content1));case 16:a.props.history.push("/"),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(5),alert(e.t1),a.setState({isLoading:!1});case 23:case"end":return e.stop()}},e,this,[[5,19]])}));return function(t){return e.apply(this,arguments)}}(),a.file=null,a.state={isLoading:null,content:"",content1:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.content.length>0}},{key:"createNote",value:function(e){return x.API.post("notes","/notes",{body:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"AdminCreate"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(N.a,{controlId:"content"},r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"content1"},r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.content1,componentClass:"textarea"})),r.a.createElement(N.a,{controlId:"file"},r.a.createElement(P.a,null,"Attachment"),r.a.createElement(T.a,{onChange:this.handleFileChange,type:"file"})),r.a.createElement(B,{block:!0,bsStyle:"primary",bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Create",loadingText:"Creating\u2026"})))}}]),t}(n.Component)),ee=function(e){var t=e.childProps;return r.a.createElement(C.a,null,r.a.createElement(z,{path:"/",exact:!0,component:A,props:t}),r.a.createElement(K,{path:"/login",exact:!0,component:D,props:t}),r.a.createElement(K,{path:"/admin",exact:!0,component:M,props:t}),r.a.createElement(J,{path:"/signup",exact:!0,component:Y,props:t}),r.a.createElement(J,{path:"/notes/new",exact:!0,component:q,props:t}),r.a.createElement(J,{path:"/notes/:id",exact:!0,component:W,props:t}),r.a.createElement(J,{path:"/admin/create",exact:!0,component:Q,props:t}),r.a.createElement(K,{path:"/login/reset",exact:!0,component:V,props:t}),r.a.createElement(k.a,{component:I}))},te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Auth.signOut();case 2:a.userHasAuthenticated(!1),a.props.history.push("/login");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={isAuthenticated:!1,isAuthenticating:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Auth.currentSession();case 3:this.userHasAuthenticated(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:this.setState({isAuthenticating:!1});case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated};return r.a.createElement("div",{className:"App container"},r.a.createElement(E.a,{fluid:!0,collapseOnSelect:!0},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Brand,null,r.a.createElement(f.a,{to:"/"},"COMP6244 - Project Management")),r.a.createElement(E.a.Toggle,null)),r.a.createElement(E.a.Collapse,null,r.a.createElement(b.a,{pullRight:!0},this.state.isAuthenticated?r.a.createElement(v.a,{onClick:this.handleLogout},"Logout"):r.a.createElement(n.Fragment,null,r.a.createElement(j.LinkContainer,{to:"/admin"},r.a.createElement(v.a,null,"Admin")),r.a.createElement(j.LinkContainer,{to:"/login"},r.a.createElement(v.a,null,"User")))))),r.a.createElement(ee,{childProps:e}))}}]),t}(n.Component),ae=Object(g.a)(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(150);O.a.configure({Auth:{mandatorySignIn:!0,region:G.cognito.REGION,userPoolId:G.cognito.USER_POOL_ID,identityPoolId:G.cognito.IDENTITY_POOL_ID,userPoolWebClientId:G.cognito.APP_CLIENT_ID},Storage:{region:G.s3.REGION,bucket:G.s3.BUCKET,identityPoolId:G.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:G.apiGateway.URL,region:G.apiGateway.REGION}]}}),o.a.render(r.a.createElement(ne.a,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t){}},[[172,2,1]]]);
//# sourceMappingURL=main.de6a8b50.chunk.js.map